(this["webpackJsonpts-app1"]=this["webpackJsonpts-app1"]||[]).push([[0],{127:function(e,t,n){e.exports=n.p+"static/media/rose.ae48b193.mp4"},128:function(e,t,n){e.exports=n.p+"static/media/cover.80738dd6.png"},143:function(e,t,n){e.exports=n(308)},148:function(e,t,n){},177:function(e,t){},225:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),i=(n(148),n(80)),l=n.n(i),s=n(125),u=n(142),m=n(53),d=n(311),p=n(312),f=n(126),g=n.n(f),h=n(81),E=n(42),v=n.n(E),S=n(317),b=n(316),w=n(315),N=n(314),y=n(318),x=(n(225),n(127)),T=n.n(x),k=n(128),A=n.n(k),M=n(129),j=[{icon:r.a.createElement(S.a,null),title:"18234082909"},{icon:r.a.createElement(b.a,null),title:"941820581@qq.com"},{icon:r.a.createElement(w.a,null),title:"https://github.com/xueyida",isLink:!0}],O=d.a.TabPane;function D(e){console.log(e)}var L=g.a.connect("http://47.103.206.38:3001"),W=p.a.Search;var B=function(){var e=r.a.useRef(null),t=r.a.useState([{content:"",currentTime:""}]),n=Object(m.a)(t,2),a=n[0],c=n[1],o=r.a.useState(),i=Object(m.a)(o,2),p=i[0],f=i[1],g=r.a.useState([{content:"",currentTime:""}]),E=Object(m.a)(g,2),S=E[0],b=E[1];r.a.useEffect((function(){var e;L.emit("login"),L.on("loginSuccess",(function(t){t&&(e=t,c(t),b(t))})),L.on("messageSuccess",(function(t){e.push(t),c(Object(u.a)(e))}))}),[L]);var x=r.a.useCallback(function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=11;break}return n=Math.floor(300*Math.random()),a=new v.a.Label({x:700,y:n}),r=new v.a.Tag({fill:"rgba(0, 0, 0, 0.26)",cornerRadius:5}),c=new v.a.Text({text:t,fontSize:24,padding:5,fill:"#fff"}),a.add(r),a.add(c),p.add(a),e.next=10,a.to({duration:4,x:-500});case 10:setTimeout((function(){a.destroy()}),3500);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);return r.a.useEffect((function(){var t=S;e.current&&e.current.addEventListener("timeupdate",Object(M.throttle)((function(){if(e.current){var n=e.current.currentTime;t.filter((function(e){return e.currentTime<n})).forEach((function(e,t){setTimeout((function(){x(e.content)}),100*t)})),t=t.filter((function(e){return e.currentTime>n}))}}),1e3))}),[e,S]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"App-header-top"},r.a.createElement("div",{className:"App-header-iconWrap"},r.a.createElement(w.a,null),r.a.createElement(N.a,null),r.a.createElement(y.a,null)))),r.a.createElement("div",{className:"App-content"},r.a.createElement("div",{className:"App-content-description"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"videoWrap"},r.a.createElement("video",{src:T.a,className:"video",poster:A.a,controls:!0,ref:e}),r.a.createElement("div",{style:{position:"absolute",width:"100%",height:"75%",top:0,left:0}},r.a.createElement(h.Stage,{width:700,height:300},r.a.createElement(h.Layer,{ref:function(e){f(e)}}))))),r.a.createElement("div",{className:"dmWrap"},r.a.createElement("div",{className:"dmContent"},r.a.createElement(d.a,{defaultActiveKey:"1",onChange:D},r.a.createElement(O,{tab:"\u5f39\u5e55\u5217\u8868",key:"1"},a.map((function(e){return r.a.createElement("div",null,e.content)}))))),r.a.createElement("div",{className:"dmFooter"},r.a.createElement(W,{placeholder:"input search text",onSearch:function(t){return function(t){var n="0";e.current&&(n=e.current.currentTime.toFixed(2));var a=new Date,r={content:t,sendTime:{M:1===(a.getMonth()+1).toString().length?"0"+(a.getMonth()+1).toString():(a.getMonth()+1).toString(),D:1===a.getDay().toString().length?"0"+a.getDay().toString():a.getDay().toString(),hh:1===a.getHours().toString().length?"0"+a.getHours().toString():a.getHours().toString(),mm:1===a.getMinutes().toString().length?"0"+a.getMinutes().toString():a.getMinutes().toString(),ss:1===a.getSeconds().toString().length?"0"+a.getSeconds().toString():a.getSeconds().toString()},currentTime:n};Math.floor(300*Math.random());x(t),L.emit("message",r)}(t)},style:{width:"100%"},enterButton:"\u53d1\u9001\u5f39\u5e55"}))))),r.a.createElement("footer",{className:"App-footer"},j.map((function(e){return r.a.createElement("span",{className:"App-footer-item"},e.isLink?r.a.createElement("a",{href:e.title,target:"_blank"},e.icon,r.a.createElement("span",{className:"App-footer-item-title"},e.title)):r.a.createElement(r.a.Fragment,null,e.icon,r.a.createElement("span",{className:"App-footer-item-title"},e.title)))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.7ae3c052.chunk.js.map